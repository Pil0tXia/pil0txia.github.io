<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>为什么说 Java 中只有值传递 | Pil0tXia</title><meta name="author" content="Pil0tXia"><meta name="copyright" content="Pil0tXia"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="为什么说 Java 中只有值传递Java 的求值策略前面我们介绍过了传值调用、传引用调用以及传值调用的特例传共享对象调用，那么，Java 中是采用的哪种求值策略呢？ 很多人说 Java 中的基本数据类型是值传递的，这个基本没有什么可以讨论的，普遍都是这样认为的。 但是，有很多人却误认为 Java 中的对象传递是引用传递。之所以会有这个误区，主要是因为 Java 中的变量和对象之间是有引用关系的。J">
<meta property="og:type" content="article">
<meta property="og:title" content="为什么说 Java 中只有值传递">
<meta property="og:url" content="https://www.pil0txia.com/post/2021-08-05_java-only-pass-by-value/">
<meta property="og:site_name" content="Pil0tXia">
<meta property="og:description" content="为什么说 Java 中只有值传递Java 的求值策略前面我们介绍过了传值调用、传引用调用以及传值调用的特例传共享对象调用，那么，Java 中是采用的哪种求值策略呢？ 很多人说 Java 中的基本数据类型是值传递的，这个基本没有什么可以讨论的，普遍都是这样认为的。 但是，有很多人却误认为 Java 中的对象传递是引用传递。之所以会有这个误区，主要是因为 Java 中的变量和对象之间是有引用关系的。J">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://static.pil0txia.com/picgo/d534a08b113546eb8660a92bdd2f94c4.png">
<meta property="article:published_time" content="2021-08-05T06:35:44.000Z">
<meta property="article:modified_time" content="2023-01-12T12:25:24.000Z">
<meta property="article:author" content="Pil0tXia">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="值传递">
<meta property="article:tag" content="引用传递">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://static.pil0txia.com/picgo/d534a08b113546eb8660a92bdd2f94c4.png"><link rel="shortcut icon" href="https://static.pil0txia.com/assets/favicon.ico"><link rel="canonical" href="https://www.pil0txia.com/post/2021-08-05_java-only-pass-by-value/"><link rel="preconnect" href="https://lib.baomitu.com"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><meta name="baidu-site-verification" content="code-lhG1qFUBLz"/><link rel="stylesheet" href="/css/index.css?v=4.12.0"><link rel="stylesheet" href="https://lib.baomitu.com/font-awesome/6.5.1/css/all.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/node-snackbar/0.1.16/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://lib.baomitu.com/fancyapps-ui/5.0.32/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?033cea028d1903fd4a1c0f93cb0639c4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-PXENV1F7F1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-PXENV1F7F1');
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":800},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  infinitegrid: {
    js: 'https://lib.baomitu.com/egjs-infinitegrid/4.11.0/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '为什么说 Java 中只有值传递',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-01-12 20:25:24'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="preload" href="https://lib.baomitu.com/fonts/ubuntu/ubuntu-regular.woff2" as="font" crossorigin><link rel="preload" href="https://lib.baomitu.com/fonts/varela-round/varela-round-regular.woff2" as="font" crossorigin><link rel="stylesheet" href="https://static.pil0txia.com/assets/customStyle.css"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Pil0tXia" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIwIiBoZWlnaHQ9IjEwODAiIHZpZXdCb3g9IjAgMCAxOTIwIDEwODAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNmZmYiLz48L3N2Zz4=" data-lazy-src="https://static.pil0txia.com/assets/03_3_600p.webp" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">65</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">210</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/random"><i class="fa-fw fas fa-random"></i><span> 随机</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-compass"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.pil0txia.com"><i class="fa-fw fa-solid fa-book"></i><span> 文档</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fa-regular fa-images"></i><span> 图库</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-code"></i><span> 功能</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://status.pil0txia.com"><i class="fa-fw fa-solid fa-bolt-lightning"></i><span> 监控</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://people.apache.org/~xiatian/"><i class="fa-fw fa-solid fa-feather-pointed"></i><span> Apache</span></a></li><li><a class="site-page child" href="/atom.xml"><i class="fa-fw fa-solid fa-square-rss"></i><span> RSS</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-gift"></i><span> 彩蛋</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gift/snow/"><i class="fa-fw fa-regular fa-snowflake"></i><span> 下雪啦</span></a></li><li><a class="site-page child" href="/gift/christmas_tree/"><i class="fa-fw fa-solid fa-tree"></i><span> 圣诞树</span></a></li><li><a class="site-page child" href="/gift/santa_game/"><i class="fa-fw fa-solid fa-gamepad"></i><span> 圣诞游戏</span></a></li><li><a class="site-page child" href="/gift/small_snow/"><i class="fa-fw fa-solid fa-candy-cane"></i><span> 雪变小了</span></a></li><li><a class="site-page child" href="/gift/love_text/"><i class="fa-fw fas fa-heart"></i><span> Love终端</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa-solid fa-hashtag"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://static.pil0txia.com/picgo/d534a08b113546eb8660a92bdd2f94c4.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Pil0tXia"><img class="site-icon" src= "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIwIiBoZWlnaHQ9IjEwODAiIHZpZXdCb3g9IjAgMCAxOTIwIDEwODAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNmZmYiLz48L3N2Zz4=" data-lazy-src="https://static.pil0txia.com/assets/logo.png"/></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/random"><i class="fa-fw fas fa-random"></i><span> 随机</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-compass"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.pil0txia.com"><i class="fa-fw fa-solid fa-book"></i><span> 文档</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fa-regular fa-images"></i><span> 图库</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-code"></i><span> 功能</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://status.pil0txia.com"><i class="fa-fw fa-solid fa-bolt-lightning"></i><span> 监控</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://people.apache.org/~xiatian/"><i class="fa-fw fa-solid fa-feather-pointed"></i><span> Apache</span></a></li><li><a class="site-page child" href="/atom.xml"><i class="fa-fw fa-solid fa-square-rss"></i><span> RSS</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-gift"></i><span> 彩蛋</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gift/snow/"><i class="fa-fw fa-regular fa-snowflake"></i><span> 下雪啦</span></a></li><li><a class="site-page child" href="/gift/christmas_tree/"><i class="fa-fw fa-solid fa-tree"></i><span> 圣诞树</span></a></li><li><a class="site-page child" href="/gift/santa_game/"><i class="fa-fw fa-solid fa-gamepad"></i><span> 圣诞游戏</span></a></li><li><a class="site-page child" href="/gift/small_snow/"><i class="fa-fw fa-solid fa-candy-cane"></i><span> 雪变小了</span></a></li><li><a class="site-page child" href="/gift/love_text/"><i class="fa-fw fas fa-heart"></i><span> Love终端</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa-solid fa-hashtag"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">为什么说 Java 中只有值传递</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-08-05T06:35:44.000Z" title="发表于 2021-08-05 14:35:44">2021-08-05</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-01-12T12:25:24.000Z" title="更新于 2023-01-12 20:25:24">2023-01-12</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java/">Java</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>12分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="为什么说 Java 中只有值传递"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="为什么说Java中只有值传递"><a href="#为什么说Java中只有值传递" class="headerlink" title="为什么说Java中只有值传递"></a>为什么说 Java 中只有值传递</h2><h3 id="Java的求值策略"><a href="#Java的求值策略" class="headerlink" title="Java的求值策略"></a>Java 的求值策略</h3><p>前面我们介绍过了传值调用、传引用调用以及传值调用的特例传共享对象调用，那么，Java 中是采用的哪种求值策略呢？</p>
<p>很多人说 Java 中的基本数据类型是值传递的，这个基本没有什么可以讨论的，普遍都是这样认为的。</p>
<p>但是，有很多人却误认为 Java 中的对象传递是引用传递。之所以会有这个误区，主要是因为 Java 中的变量和对象之间是有引用关系的。Java 语言中是通过对象的引用来操纵对象的。所以，很多人会认为对象的传递是引用的传递。</p>
<p>而且很多人还可以举出以下的代码示例：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">  <span class="type">Test</span> <span class="variable">pt</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line"></span><br><span class="line">  <span class="type">User</span> <span class="variable">hollis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">  hollis.setName(<span class="string">"Hollis"</span>);</span><br><span class="line">  hollis.setGender(<span class="string">"Male"</span>);</span><br><span class="line">  pt.pass(hollis);</span><br><span class="line">  System.out.println(<span class="string">"print in main , user is "</span> + hollis);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pass</span><span class="params">(User user)</span> {</span><br><span class="line">  user.setName(<span class="string">"hollischuang"</span>);</span><br><span class="line">  System.out.println(<span class="string">"print in pass , user is "</span> + user);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>输出结果：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print in pass , user is User{name=<span class="string">'hollischuang'</span>, gender=<span class="string">'Male'</span>}</span><br><span class="line">print in main , user is User{name=<span class="string">'hollischuang'</span>, gender=<span class="string">'Male'</span>}</span><br></pre></td></tr></tbody></table></figure>

<p>可以看到，对象类型在被传递到 pass 方法后，在方法内改变了其内容，最终调用方 main 方法中的对象也变了。</p>
<p>所以，很多人说，这和引用传递的现象是一样的，就是在方法内改变参数的值，会影响到调用方。</p>
<p>但是，其实这是走进了一个误区。</p>
<h3 id="Java中的对象传递"><a href="#Java中的对象传递" class="headerlink" title="Java中的对象传递"></a>Java 中的对象传递</h3><p>很多人通过代码示例的现象说明 Java 对象是引用传递，那么我们就从现象入手，先来反驳下这个观点。</p>
<p>我们前面说过，无论是值传递，还是引用传递，只不过是求值策略的一种，那求值策略还有很多，比如前面提到的共享对象传递的现象和引用传递也是一样的。那凭什么就说 Java 中的参数传递就一定是引用传递而不是共享对象传递呢？</p>
<p>那么，Java 中的对象传递，到底是哪种形式呢？其实，还真的就是共享对象传递。</p>
<p>其实在 《The Java™ Tutorials》中，是有关于这部分内容的说明的。首先是关于基本类型描述如下：</p>
<blockquote>
<p>Primitive arguments, such as an int or a double, are passed into methods by value. This means that any changes to the values of the parameters exist only within the scope of the method. When the method returns, the parameters are gone and any changes to them are lost.</p>
</blockquote>
<p><strong>即，原始参数通过值传递给方法。这意味着对参数值的任何更改都只存在于方法的范围内。当方法返回时，参数将消失，对它们的任何更改都将丢失。</strong></p>
<p>关于对象传递的描述如下：</p>
<blockquote>
<p>Reference data type parameters, such as objects, are also passed into methods by value. This means that when the method returns, the passed-in reference still references the same object as before. However, the values of the object’s fields can be changed in the method, if they have the proper access level.</p>
</blockquote>
<p><strong>也就是说，引用数据类型参数 (如对象) 也按值传递给方法。这意味着，当方法返回时，传入的引用仍然引用与以前相同的对象。但是，如果对象字段具有适当的访问级别，则可以在方法中更改这些字段的值。</strong></p>
<p>这一点官方文档已经很明确的指出了，Java 就是值传递，只不过是把对象的引用当做值传递给方法。你细品，这不就是共享对象传递么？</p>
<p><strong>其实 Java 中使用的求值策略就是传共享对象调用，也就是说，Java 会将对象的地址的拷贝传递给被调函数的形式参数。</strong>只不过” 传共享对象调用” 这个词并不常用，所以 Java 社区的人通常说”Java 是传值调用”，这么说也没错，因为传共享对象调用其实是传值调用的一个特例。</p>
<h3 id="值传递和共享对象传递的现象冲突吗？"><a href="#值传递和共享对象传递的现象冲突吗？" class="headerlink" title="值传递和共享对象传递的现象冲突吗？"></a>值传递和共享对象传递的现象冲突吗？</h3><p>看到这里很多人可能会有一个疑问，既然共享对象传递是值传递的一个特例，那么为什么他们的现象是完全不同的呢？</p>
<p>难道值传递过程中，如果在被调方法中改变了值，也有可能会对调用者有影响吗？那到底什么时候会影响什么时候不会影响呢？</p>
<p>其实是不冲突的，之所以会有这种疑惑，是因为大家对于到底是什么是” 改变值” 有误解。</p>
<p>我们先回到上面的例子中来，看一下调用过程中实际上发生了什么？</p>
<p><img src= "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIwIiBoZWlnaHQ9IjEwODAiIHZpZXdCb3g9IjAgMCAxOTIwIDEwODAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNmZmYiLz48L3N2Zz4=" data-lazy-src="https://static.pil0txia.com/picgo/f9c2caae4c8249ae86565e8fb88f7beb.png" alt="pass2"></p>
<p>在参数传递的过程中，实际参数的地址 <code>0X1213456</code> 被拷贝给了形参。这个过程其实就是值传递，只不过传递的值得内容是对象的应用。</p>
<p>那为什么我们改了 user 中的属性的值，却对原来的 user 产生了影响呢？</p>
<p>其实，这个过程就好像是：你复制了一把你家里的钥匙给到你的朋友，他拿到钥匙以后，并没有在这把钥匙上做任何改动，而是通过钥匙打开了你家里的房门，进到屋里，把你家的电视给砸了。</p>
<p>这个过程，对你手里的钥匙来说，是没有影响的，但是你的钥匙对应的房子里面的内容却是被人改动了。</p>
<p>也就是说，<strong>Java 对象的传递，是通过复制的方式把引用关系传递了，如果我们没有改引用关系，而是找到引用的地址，把里面的内容改了，是会对调用方有影响的，因为大家指向的是同一个共享对象。</strong></p>
<p>那么，如果我们改动一下 pass 方法的内容：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pass</span><span class="params">(User user)</span> {</span><br><span class="line">  user = <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">  user.setName(<span class="string">"hollischuang"</span>);</span><br><span class="line">  System.out.println(<span class="string">"print in pass , user is "</span> + user);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>上面的代码中，我们在 pass 方法中，重新 new 了一个 user 对象，并改变了他的值，输出结果如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print in pass , user is User{name=<span class="string">'hollischuang'</span>, gender=<span class="string">'Male'</span>}</span><br><span class="line">print in main , user is User{name=<span class="string">'Hollis'</span>, gender=<span class="string">'Male'</span>}</span><br></pre></td></tr></tbody></table></figure>

<p>再看一下整个过程中发生了什么：</p>
<p><img src= "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIwIiBoZWlnaHQ9IjEwODAiIHZpZXdCb3g9IjAgMCAxOTIwIDEwODAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNmZmYiLz48L3N2Zz4=" data-lazy-src="https://static.pil0txia.com/picgo/d534a08b113546eb8660a92bdd2f94c4.png" alt="pass1"></p>
<p>这个过程，就好像你复制了一把钥匙给到你的朋友，你的朋友拿到你给他的钥匙之后，找个锁匠把他修改了一下，他手里的那把钥匙变成了开他家锁的钥匙。这时候，他打开自己家，就算是把房子点了，对你手里的钥匙，和你家的房子来说都是没有任何影响的。</p>
<p><strong>所以，Java 中的对象传递，如果是修改引用，是不会对原来的对象有任何影响的，但是如果直接修改共享对象的属性的值，是会对原来的对象有影响的。</strong></p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>我们知道，编程语言中需要进行方法间的参数传递，这个传递的策略叫做求值策略。</p>
<p>在程序设计中，求值策略有很多种，比较常见的就是值传递和引用传递。还有一种值传递的特例 —— 共享对象传递。</p>
<p>值传递和引用传递最大的区别是传递的过程中有没有复制出一个副本来，如果是传递副本，那就是值传递，否则就是引用传递。</p>
<p>在 Java 中，其实是通过值传递实现的参数传递，只不过对于 Java 对象的传递，传递的内容是对象的引用。</p>
<p><strong>我们可以总结说，Java 中的求值策略是共享对象传递，这是完全正确的。</strong></p>
<p>但是，为了让大家都能理解你说的，<strong>我们说 Java 中只有值传递，只不过传递的内容是对象的引用。这也是没毛病的。</strong></p>
<p>但是，绝对不能认为 Java 中有引用传递。</p>
<p>OK，以上就是本文的全部内容，不知道本文是否帮助你解开了你心中一直以来的疑惑。欢迎留言说一下你的想法。</p>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html">The Java™ Tutorials</a></p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://en.wikipedia.org/wiki/Evaluation_strategy">Evaluation strategy</a></p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value">Is Java “pass-by-reference” or “pass-by-value”?</a></p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.penjee.com/passing-by-value-vs-by-reference-java-graphical/">Passing by Value vs. by Reference Visual Explanation</a></p>
<h2 id="应该怎么做？"><a href="#应该怎么做？" class="headerlink" title="应该怎么做？"></a>应该怎么做？</h2><p>那就要使用 <code>set()</code> 和 <code>get()</code> 方法了。</p>
<p>先看如下代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public class ParamPass1 {</span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line">        ParamPass1 p = new ParamPass1();</span><br><span class="line">        int i = 10;</span><br><span class="line">        System.out.println("pass方法调用前，i的值为=" + i);</span><br><span class="line">        p.pass(i);</span><br><span class="line">        System.out.println("pass方法调用后，i的值为=" + i);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void pass(int i) {</span><br><span class="line">        i *= 3;</span><br><span class="line">        System.out.println("pass方法中，i的值为=" + i);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>上面代码中，我们在类中定义了一个 pass 方法，方法内部将传入的参数 i 的值增加至 3 倍，然后分别在 pass 方法和 main 方法中打印参数的值，输出结果如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pass方法执行前，i的值为=10</span><br><span class="line">pass方法中，i的值为=30</span><br><span class="line">pass方法执行后，i的值为=10</span><br></pre></td></tr></tbody></table></figure>

<p>从上面运行结果来看，pass 方法中，i 的值是 30，pass 方法执行结束后，变量 i 的值依然是 10。</p>
<p>可以看出，main 方法里的变量 i，并不是 pass 方法里的 i，pass 方法内部对 i 的值的修改并没有改变实际参数 i 的值，改变的只是 pass 方法中 i 的值（pass 方法中，i=30），因为 pass 方法中的 i 只是 main 方法中变量 i 的<strong>复制品</strong>。</p>
<p>因此同学们很容易得出结论：_Java 中，一个方法不可能修改一个基本数据类型的参数 ，所以是值传递_。</p>
<p>然而，结论下的还太早，因为方法参数共有两种类型：</p>
<ol>
<li>基本数据类型</li>
<li>引用数据类型</li>
</ol>
<p>前面看到的只是基本数据类型的参数，那对于引用类型的参数，又是怎么样的呢？看如下代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">public class ParamPass2 {</span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line">        ParamPass2 p = new ParamPass2();</span><br><span class="line"></span><br><span class="line">        User user = new User();</span><br><span class="line">        user.setName("张三");</span><br><span class="line">        user.setAge(18);</span><br><span class="line"></span><br><span class="line">        System.out.println("pass方法调用前，user=" + user.toString());</span><br><span class="line">        p.pass(user);</span><br><span class="line">        System.out.println("pass方法调用后，user=" + user.toString());</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void pass(User user) {</span><br><span class="line">        user.setName("李四");</span><br><span class="line">        System.out.println("pass方法中,user = " + user.toString());</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">class User {</span><br><span class="line">    /**</span><br><span class="line">     * 姓名</span><br><span class="line">     */</span><br><span class="line">    private String name;</span><br><span class="line">    </span><br><span class="line">    /**</span><br><span class="line">     * 年龄</span><br><span class="line">     */</span><br><span class="line">    private int age;</span><br><span class="line"></span><br><span class="line">    public String getName() {</span><br><span class="line">        return name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setName(String name) {</span><br><span class="line">        this.name = name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public int getAge() {</span><br><span class="line">        return age;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setAge(int age) {</span><br><span class="line">        this.age = age;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String toString() {</span><br><span class="line">        return "User{" +</span><br><span class="line">                "name='" + name + '\'' +</span><br><span class="line">                ", age=" + age +</span><br><span class="line">                '}';</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>上面代码中，定义了一个 User 类，在 main 方法中，new 了一个新的 User 对象 user，然后给 user 对象的成员变量赋值，pass 方法中，修改了传入的 user 对象的属性。</p>
<p>运行 main 方法，结果如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pass方法调用前，user= User{name='张三', age=18}</span><br><span class="line">pass方法中,user = User{name='李四', age=18}</span><br><span class="line">pass方法调用后，user= User{name='李四', age=18}</span><br></pre></td></tr></tbody></table></figure>

<p>经过 pass 方法执行后，实参的值竟然被改变了！！！那按照上面的引用传递的定义，实际参数的值被改变了，这不就是引用传递了么？</p>
<p>有同学可能会说：难道在 Java 的方法中，在传递基本数据类型的时候是值传递，在传递引用数据类型的时候是引用传递？</p>
<p>其实不然，<strong>Java 中传递引用数据类型的时候也是值传递</strong>。</p>
<p>为什么呢？</p>
<p>先给大家说一下概念中的重点：</p>
<blockquote>
<p>值传递，是指在调用函数时将<strong>实际参数复制</strong>一份传递到函数中，这样在函数中如果<strong>对参数进行修改</strong>，将不会影响到实际参数。</p>
<p>引用传递，是指在调用函数时将<strong>实际参数的地址直接传递</strong>到函数中，那么在函数中<strong>对参数所进行的修改</strong>，将影响到实际参数。</p>
</blockquote>
<p>总结下两者的区别：</p>
<p>值传递</p>
<p>引用传递</p>
<p>根本区别</p>
<p>会创建副本</p>
<p>不会创建副本</p>
<p>所以</p>
<p>函数中无法改变原始对象</p>
<p>函数中可以改变原始对象</p>
<p><strong>敲黑板：复制的是参数的引用（地址值），并不是引用指向的存在于堆内存中的实际对象。</strong></p>
<p>main 方法中的 user 是一个引用（也就是一个指针），它保存了 User 对象的地址值，当把 user 的值赋给 pass 方法的 user 形参后，即让 pass 方法的 user 形参也保存了这个地址值，即也会引用到堆内存中的 User 对象。</p>
<p>上面代码中，之所以产生引用传递的错觉，是因为参数保存的是实际对象的地址值，你改变的只是地址值指向的堆内存中的实际对象，<strong>并没有真正改变参数</strong>，参数的地址值没有变。</p>
<p>下面结合生活中的场景，再来深入理解一下值传递和引用传递。</p>
<p>你有一把钥匙，当你的朋友想要去你家的时候，如果你直接把你的钥匙给他了，这就是引用传递。这种情况下，如果他对这把钥匙做了什么事情，比如他在钥匙上刻下了自己名字，那么这把钥匙还给你的时候，你自己的钥匙上也会多出他刻的名字。</p>
<p>你有一把钥匙，当你的朋友想要去你家的时候，你复刻了一把新钥匙给他，自己的还在自己手里，这就是值传递。这种情况下，他对这把钥匙做什么都不会影响你手里的这把钥匙。</p>
<p>但是，不管上面哪种情况，你的朋友拿着你给他的钥匙，进到你的家里，把你家的电视砸了。那你说你会不会受到影响？</p>
<p>我们在 pass 方法中，改变 user 对象的 name 属性的值的时候，不就是在 “砸电视” 么。你改变的不是那把钥匙（地址值），而是钥匙打开的房子（地址值对应的实际对象）。</p>
<p>那我们如何真正的改变参数呢，看如下代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">public class ParamPass3 {</span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line">        ParamPass3 p = new ParamPass3();</span><br><span class="line"></span><br><span class="line">        User user = new User();</span><br><span class="line">        user.setName("张三");</span><br><span class="line">        user.setAge(18);</span><br><span class="line"></span><br><span class="line">        System.out.println("pass方法调用前，user= " + user.toString());</span><br><span class="line">        p.pass(user);</span><br><span class="line">        System.out.println("pass方法调用后，user= " + user.toString());</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void pass(User user) {</span><br><span class="line">        user = new User();</span><br><span class="line">        user.setName("李四");</span><br><span class="line">        user.setAge(20);</span><br><span class="line">        System.out.println("pass方法中,user = " + user.toString());</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">class User {</span><br><span class="line">    /**</span><br><span class="line">     * 姓名</span><br><span class="line">     */</span><br><span class="line">    private String name;</span><br><span class="line">    /**</span><br><span class="line">     * 年龄</span><br><span class="line">     */</span><br><span class="line">    private int age;</span><br><span class="line"></span><br><span class="line">    public String getName() {</span><br><span class="line">        return name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setName(String name) {</span><br><span class="line">        this.name = name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public int getAge() {</span><br><span class="line">        return age;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setAge(int age) {</span><br><span class="line">        this.age = age;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String toString() {</span><br><span class="line">        return "User{" +</span><br><span class="line">                "name='" + name + '\'' +</span><br><span class="line">                ", age=" + age +</span><br><span class="line">                '}';</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>在这段代码中，pass 方法中，我们<strong>真正的改变</strong>了 user 参数，因为它指向了一个新的地址 <code>user = new User()</code>，即参数的地址值改变了。运行结果如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pass方法调用前，user= User{name='张三', age=18}</span><br><span class="line">pass方法中,user = User{name='李四', age=20}</span><br><span class="line">pass方法调用后，user= User{name='张三', age=18}</span><br></pre></td></tr></tbody></table></figure>

<p>从结果看出，对参数进行了修改，没有影响到实际参数。</p>
<p>所以说，Java 中其实还是值传递的，只不过对于引用类型参数，值的内容是对象的引用。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://www.pil0txia.com">Pil0tXia</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://www.pil0txia.com/post/2021-08-05_java-only-pass-by-value/">https://www.pil0txia.com/post/2021-08-05_java-only-pass-by-value/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.pil0txia.com" target="_blank">Pil0tXia</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Java/">Java</a><a class="post-meta__tags" href="/tags/%E5%80%BC%E4%BC%A0%E9%80%92/">值传递</a><a class="post-meta__tags" href="/tags/%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92/">引用传递</a></div><div class="post_share"><div class="social-share" data-image="https://static.pil0txia.com/picgo/d534a08b113546eb8660a92bdd2f94c4.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://lib.baomitu.com/butterfly-extsrc/1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://lib.baomitu.com/butterfly-extsrc/1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/2021-08-09_art-ensemble-new-media-center-work-plan/" title="大艺团新媒体中心摄影部工作计划"><img class="cover" src= "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIwIiBoZWlnaHQ9IjEwODAiIHZpZXdCb3g9IjAgMCAxOTIwIDEwODAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNmZmYiLz48L3N2Zz4=" data-lazy-src="https://static.pil0txia.com/picgo/20210811101754.png" onerror="onerror=null;src='https://static.pil0txia.com/banner/60914916_404-NOT-FOUND_720p.webp'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">大艺团新媒体中心摄影部工作计划</div></div></a></div><div class="next-post pull-right"><a href="/post/2021-08-05_joplin-2-obsidian/" title="迎接 Obsidian 数字花园 —— Joplin 多平台用户该如何完美迁移？"><img class="cover" src= "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIwIiBoZWlnaHQ9IjEwODAiIHZpZXdCb3g9IjAgMCAxOTIwIDEwODAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNmZmYiLz48L3N2Zz4=" data-lazy-src="https://static.pil0txia.com/picgo/20210805153030.png" onerror="onerror=null;src='https://static.pil0txia.com/banner/60914916_404-NOT-FOUND_720p.webp'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">迎接 Obsidian 数字花园 —— Joplin 多平台用户该如何完美迁移？</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/post/2022-09-29_servlet-get-post-garbage-characters/" title="Servlet 中请求和响应过程中的乱码问题解决"><img class="cover" src= "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIwIiBoZWlnaHQ9IjEwODAiIHZpZXdCb3g9IjAgMCAxOTIwIDEwODAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNmZmYiLz48L3N2Zz4=" data-lazy-src="https://static.pil0txia.com/cover/230543338_116403574061502_4375964406335491107_n.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-09-29</div><div class="title">Servlet 中请求和响应过程中的乱码问题解决</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIwIiBoZWlnaHQ9IjEwODAiIHZpZXdCb3g9IjAgMCAxOTIwIDEwODAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNmZmYiLz48L3N2Zz4=" data-lazy-src="https://static.pil0txia.com/assets/03_3_600p.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Pil0tXia</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">65</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">210</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><a id="card-info-btn" href="mailto:admin@pil0txia.com" rel="external nofollow noreferrer"><i class="fas fa-envelope"></i><span>Contact Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Pil0tXia" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://www.v2ex.com/member/Pil0tXia" rel="external nofollow noreferrer" target="_blank" title="V2EX"><i class="fa-solid fa-v"></i></a><a class="social-icon" href="https://space.bilibili.com/286768851/" rel="external nofollow noreferrer" target="_blank" title="Bilibili"><i class="fa-brands fa-bilibili"></i></a><a class="social-icon" href="https://user.qzone.qq.com/1837713753/main" rel="external nofollow noreferrer" target="_blank" title="Photography"><i class="fa-solid fa-camera"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">不会摄影的白帽子不是好机长！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%B4Java%E4%B8%AD%E5%8F%AA%E6%9C%89%E5%80%BC%E4%BC%A0%E9%80%92"><span class="toc-number">1.</span> <span class="toc-text">为什么说 Java 中只有值传递</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Java%E7%9A%84%E6%B1%82%E5%80%BC%E7%AD%96%E7%95%A5"><span class="toc-number">1.1.</span> <span class="toc-text">Java 的求值策略</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java%E4%B8%AD%E7%9A%84%E5%AF%B9%E8%B1%A1%E4%BC%A0%E9%80%92"><span class="toc-number">1.2.</span> <span class="toc-text">Java 中的对象传递</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%80%BC%E4%BC%A0%E9%80%92%E5%92%8C%E5%85%B1%E4%BA%AB%E5%AF%B9%E8%B1%A1%E4%BC%A0%E9%80%92%E7%9A%84%E7%8E%B0%E8%B1%A1%E5%86%B2%E7%AA%81%E5%90%97%EF%BC%9F"><span class="toc-number">1.3.</span> <span class="toc-text">值传递和共享对象传递的现象冲突吗？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.4.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">1.5.</span> <span class="toc-text">参考资料</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%94%E8%AF%A5%E6%80%8E%E4%B9%88%E5%81%9A%EF%BC%9F"><span class="toc-number">2.</span> <span class="toc-text">应该怎么做？</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/2024-02-29_suzume-no-tojimari-wallpaper/" title="《铃芽之旅》4K SDR madVR 渲染壁纸"><img src= "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIwIiBoZWlnaHQ9IjEwODAiIHZpZXdCb3g9IjAgMCAxOTIwIDEwODAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNmZmYiLz48L3N2Zz4=" data-lazy-src="https://static.pil0txia.com/gallery/suzume_no_tojimari/Suzume.2022.2160p.BluRay.x265.10bit.DTS-CTRLHD.mkv_013651.963.webp" onerror="this.onerror=null;this.src='https://static.pil0txia.com/banner/60914916_404-NOT-FOUND_720p.webp'" alt="《铃芽之旅》4K SDR madVR 渲染壁纸"/></a><div class="content"><a class="title" href="/post/2024-02-29_suzume-no-tojimari-wallpaper/" title="《铃芽之旅》4K SDR madVR 渲染壁纸">《铃芽之旅》4K SDR madVR 渲染壁纸</a><time datetime="2024-02-29T11:05:07.000Z" title="发表于 2024-02-29 19:05:07">2024-02-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/2024-01-21_what-is-an-apache-committer/" title="成为 Apache Committer 只是我投身开源社区建设的开始"><img src= "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIwIiBoZWlnaHQ9IjEwODAiIHZpZXdCb3g9IjAgMCAxOTIwIDEwODAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNmZmYiLz48L3N2Zz4=" data-lazy-src="https://static.pil0txia.com/picgo/asf_logo_cover.webp" onerror="this.onerror=null;this.src='https://static.pil0txia.com/banner/60914916_404-NOT-FOUND_720p.webp'" alt="成为 Apache Committer 只是我投身开源社区建设的开始"/></a><div class="content"><a class="title" href="/post/2024-01-21_what-is-an-apache-committer/" title="成为 Apache Committer 只是我投身开源社区建设的开始">成为 Apache Committer 只是我投身开源社区建设的开始</a><time datetime="2024-01-20T18:59:49.000Z" title="发表于 2024-01-21 02:59:49">2024-01-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/2023-08-28_community-over-code-asia-2023/" title="Apache 社区力量的汇聚 &amp; 程序员奔现大会：CommunityOverCode Asia 2023 给我的成长"><img src= "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIwIiBoZWlnaHQ9IjEwODAiIHZpZXdCb3g9IjAgMCAxOTIwIDEwODAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNmZmYiLz48L3N2Zz4=" data-lazy-src="https://dg.static.pil0txia.com/gallery/apache/community-over-code-asia-2023-banner-bagevent.webp" onerror="this.onerror=null;this.src='https://static.pil0txia.com/banner/60914916_404-NOT-FOUND_720p.webp'" alt="Apache 社区力量的汇聚 &amp; 程序员奔现大会：CommunityOverCode Asia 2023 给我的成长"/></a><div class="content"><a class="title" href="/post/2023-08-28_community-over-code-asia-2023/" title="Apache 社区力量的汇聚 &amp; 程序员奔现大会：CommunityOverCode Asia 2023 给我的成长">Apache 社区力量的汇聚 &amp; 程序员奔现大会：CommunityOverCode Asia 2023 给我的成长</a><time datetime="2023-08-28T08:56:30.000Z" title="发表于 2023-08-28 16:56:30">2023-08-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/2023-08-11_sync-cache-under-async-events/" title="【开源贡献笔记】异步文件事件监听：协调稳健的 Webhook 配置缓存同步"><img src= "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIwIiBoZWlnaHQ9IjEwODAiIHZpZXdCb3g9IjAgMCAxOTIwIDEwODAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNmZmYiLz48L3N2Zz4=" data-lazy-src="https://static.pil0txia.com/picgo/image-20230825103741155.webp" onerror="this.onerror=null;this.src='https://static.pil0txia.com/banner/60914916_404-NOT-FOUND_720p.webp'" alt="【开源贡献笔记】异步文件事件监听：协调稳健的 Webhook 配置缓存同步"/></a><div class="content"><a class="title" href="/post/2023-08-11_sync-cache-under-async-events/" title="【开源贡献笔记】异步文件事件监听：协调稳健的 Webhook 配置缓存同步">【开源贡献笔记】异步文件事件监听：协调稳健的 Webhook 配置缓存同步</a><time datetime="2023-08-11T08:54:43.000Z" title="发表于 2023-08-11 16:54:43">2023-08-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/2023-07-06_stream-comparator-and-lambda-sort/" title="【联想实习笔记】克服在流中使用 Lambda 表达式排序时编译器类型推断的弱点"><img src= "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIwIiBoZWlnaHQ9IjEwODAiIHZpZXdCb3g9IjAgMCAxOTIwIDEwODAiPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNmZmYiLz48L3N2Zz4=" data-lazy-src="https://static.pil0txia.com/cover/natgeo_20201016_230055_0.webp" onerror="this.onerror=null;this.src='https://static.pil0txia.com/banner/60914916_404-NOT-FOUND_720p.webp'" alt="【联想实习笔记】克服在流中使用 Lambda 表达式排序时编译器类型推断的弱点"/></a><div class="content"><a class="title" href="/post/2023-07-06_stream-comparator-and-lambda-sort/" title="【联想实习笔记】克服在流中使用 Lambda 表达式排序时编译器类型推断的弱点">【联想实习笔记】克服在流中使用 Lambda 表达式排序时编译器类型推断的弱点</a><time datetime="2023-07-06T09:57:39.000Z" title="发表于 2023-07-06 17:57:39">2023-07-06</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://static.pil0txia.com/picgo/d534a08b113546eb8660a92bdd2f94c4.png')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Pil0tXia</div><div class="footer_custom_text"><a href="https://beian.miit.gov.cn/" rel="external nofollow noreferrer" target="_blank">苏ICP备2023001491号-1</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.12.0"></script><script src="/js/main.js?v=4.12.0"></script><script src="/js/tw_cn.js?v=4.12.0"></script><script src="https://lib.baomitu.com/fancyapps-ui/5.0.32/fancybox/fancybox.umd.min.js"></script><script src="https://lib.baomitu.com/instant.page/5.2.0/instantpage.min.js" type="module"></script><script src="https://lib.baomitu.com/vanilla-lazyload/17.8.5/lazyload.iife.min.js"></script><script src="https://lib.baomitu.com/node-snackbar/0.1.16/snackbar.min.js"></script><div class="js-pjax"><script>(()=>{
  const getGiscusTheme = theme => {
    return theme === 'dark' ? 'dark' : 'light'
  }

  const loadGiscus = () => {
    const config = Object.assign({
      src: 'https://giscus.app/client.js',
      'data-repo': 'Pil0tXia/hexo-giscus',
      'data-repo-id': 'R_kgDOIPxOww',
      'data-category-id': 'DIC_kwDOIPxOw84CSC9p',
      'data-mapping': 'pathname',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      async: true
    },null)

    const ele = document.createElement('script')
    for (let key in config) {
      ele.setAttribute(key, config[key])
    }
    document.getElementById('giscus-wrap').appendChild(ele)
  }

  const changeGiscusTheme = theme => {
    const sendMessage = message => {
      const iframe = document.querySelector('iframe.giscus-frame')
      if (!iframe) return
      iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app')
    }

    sendMessage({
      setConfig: {
        theme: getGiscusTheme(theme)
      }
    });
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if ('Giscus' === 'Giscus' || !true) {
    if (true) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment= loadGiscus
  }
})()</script></div><script defer="defer" id="ribbon" src="https://lib.baomitu.com/butterfly-extsrc/1.1.3/canvas-ribbon.min.js" size="170" alpha="0.6" zIndex="-1" mobile="true" data-click="true"></script><script async data-pjax src="https://static.pil0txia.com/assets/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.12.0"></script></div></div></body></html>